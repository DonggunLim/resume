import { Check } from "lucide-react";

<h2 id="목표">
  <span className="text-outline mr-4">#</span>목표
</h2>

3주간 총 3명이 팀을 이루어, 공공 API를 활용해 반려인을 위한 커뮤니티 웹 게시판을
만드는 프로젝트를 진행했습니다. 모든 팀원이 각자 맡은 기능을 바탕으로 **풀스택
개발**에 참여해야 했고, **실제 서비스하고 있는 게시판에 가까운 완성도를
목표**로, 사용자 UI/UX를 고려하여, 지금까지 배운 기술들을 적극적으로 활용하는
데에 중점을 두었습니다.

<li className="flex items-center gap-2">
  <Check className="text-highlight h-4 w-4" />
  <span>
    실제 서비스에 가까운 커뮤니티 게시판을 풀스택으로 개발하며, 사용자 경험과
    완성도에 집중
  </span>
</li>

<h2 id="담당한 부분들">
  <span className="text-outline mr-4">#</span>담당한 부분들
</h2>

### 커뮤니티 게시글 관련 페이지

<div className="not-prose">
  <div>
    <p className="font-bold">메인 페이지</p>
    <img
      src="/images/petple/1.gif"
      alt="PetPle 커뮤니티 메인페이지"
      loading="lazy"
      decoding="async"
      width="300"
      height="600"
      className="mb-8"
    />
  </div>
  <ul>
    <li className="flex items-center gap-2">
      <Check className="text-highlight h-4 w-4" />
      <span className="leading-relaxed text-gray-300">
        Tanstack-query의 useInfiniteQuery을 이용해 무한스크롤 UI를
        구현하였습니다.
      </span>
    </li>
    <li className="flex items-center gap-2">
      <Check className="text-highlight h-4 w-4" />
      <span className="leading-relaxed text-gray-300">
        좋아요 기능처럼 중복 호출 가능성이 높은 이벤트에 대해, debounce 로직을
        직접 구현해 적용했습니다.
      </span>
    </li>
  </ul>
</div>

<div className="not-prose my-16">
  <div className="flex gap-x-4">
    <div>
      <p className="font-bold">게시글 작성 페이지</p>
      <img
        src="/images/petple/postwrite.gif"
        alt="PetPle 커뮤니티 게시글 작성페이지"
        loading="lazy"
        decoding="async"
        width="300"
        height="600"
        className="mb-8"
      />
    </div>
    <div>
      <p className="font-bold">게시글 수정 페이지</p>
      <img
        src="/images/petple/postupdate.gif"
        alt="PetPle 커뮤니티 게시글 수정페이지"
        loading="lazy"
        decoding="async"
        width="300"
        height="600"
        className="mb-8"
      />
    </div>
    <div>
      <p className="font-bold">게시글 상세 페이지</p>
      <img
        src="/images/petple/detail.gif"
        alt="PetPle 커뮤니티 게시글 디테일페이지"
        loading="lazy"
        decoding="async"
        width="300"
        height="600"
        className="mb-8"
      />
    </div>
  </div>
  <ul>
    <li className="flex items-start gap-2">
      <Check className="text-highlight mt-1 h-4 w-4 shrink-0" />
      <span className="leading-relaxed text-gray-300">
        custom input 컴포넌트를 compound pattern을 이용하여 직접 구현하였습니다.
      </span>
    </li>
    <li className="flex items-start gap-2">
      <Check className="text-highlight mt-1 h-4 w-4 shrink-0" />
      <span className="leading-relaxed text-gray-300">
        react-hook-form을 이용하여 커스텀(비제어) 컴포넌트와 제어 컴포넌트를
        통합하여 폼을 관리하였습니다.
      </span>
    </li>
    <li className="flex items-start gap-2">
      <Check className="text-highlight mt-1 h-4 w-4 shrink-0" />
      <span className="leading-relaxed text-gray-300">
        이미지는 presignedURL 방식을 이용하여 S3에 저장하였으며, 리사이징을 통해
        최적화하였습니다.
      </span>
    </li>
  </ul>
</div>

### 메인 페이지 인기게시글 부분

<img
  src="/images/petple/postpopular.jpg"
  alt="PetPle 인기 게시글 화면"
  loading="lazy"
  decoding="async"
  width="300"
  height="600"
/>
<ul className="not-prose">
  <li className="flex items-start gap-2">
    <Check className="text-highlight mt-1 h-4 w-4 shrink-0" />
    <span className="leading-relaxed text-gray-300">
      좋아요 개수를 기준으로 인기 게시물 10개를 메인페이지에 보여주었습니다.
    </span>
  </li>
</ul>

### 실시간 채팅 관련 페이지

<img
  src="/images/petple/chat.gif"
  alt="PetPle 실시간 채팅 화면"
  loading="lazy"
  decoding="async"
  width="300"
  height="600"
/>
<ul className="not-prose">
  <li className="flex items-start gap-2">
    <Check className="text-highlight mt-1 h-4 w-4 shrink-0" />
    <span className="leading-relaxed text-gray-300">
      카카오 맵을 활용해 사용자 주소를 기준으로 반경 3km 이내의 사용자 매칭
      기능을 설계했습니다.
    </span>
  </li>
  <li className="flex items-start gap-2">
    <Check className="text-highlight mt-1 h-4 w-4 shrink-0" />
    <span className="leading-relaxed text-gray-300">
      Socket.io를 사용하여 실시간 채팅 기능을 구현하였습니다.
    </span>
  </li>
  <li className="flex items-start gap-2">
    <Check className="text-highlight mt-1 h-4 w-4 shrink-0" />
    <span className="leading-relaxed text-gray-300">
      채팅 메시지는 실시간으로 DB에 바로 저장하지 않고, 일정 개수를 초과하거나
      채팅방에 사용자가 없을 때 일괄 저장하는 방식으로 최적화했습니다.
    </span>
  </li>
</ul>

### 유저 알림 기능

<img
  src="/images/petple/alarm.gif"
  alt="PetPle 알림 화면"
  loading="lazy"
  decoding="async"
  width="300"
  height="600"
/>
<ul className="not-prose">
  <li className="flex items-start gap-2">
    <Check className="text-highlight mt-1 h-4 w-4 shrink-0" />
    <span className="leading-relaxed text-gray-300">
      SSE를 활용해 사용자에게 실시간 채팅 알림 메시지를 전달했습니다.
    </span>
  </li>
  <li className="flex items-start gap-2">
    <Check className="text-highlight mt-1 h-4 w-4 shrink-0" />
    <span className="leading-relaxed text-gray-300">
      알림 메시지는 1개월간 유지되며, 스케줄러를 통해 기한이 지난 알림은 자동
      삭제되도록 설계했습니다.
    </span>
  </li>
</ul>

<h2 id="트러블 슈팅">
  <span className="text-outline mr-4">#</span>트러블슈팅
</h2>

### 상황

사용자들이 PetPle 웹앱에서 사진을 업로드할 때, 이미지 용량이 5MB를 넘으면 AWS S3 업로드 과정에서 간헐적으로 실패하는 현상이 발생했습니다.
이로 인해 사용자 경험 저하와 스토리지 사용 효율 저하도 있는 상황이었습니다.

### 해결 방법

AWS S3에 이미지 업로드 완료 시 AWS Lambda 함수를 트리거하여 자동으로 이미지를 리사이징하도록 설계했습니다.
프론트엔드에서는 백엔드로부터 S3 업로드용 presignedURL을 받아 S3에 이미지를 업로드하고, Lambda 함수에서는 Sharp 라이브러리를 사용해 이미지 크기를 조정하도록 구현했습니다.

### 결과

구현 결과, 네트워크 전송량과 스토리지 사용량이 크게 줄어들었으며 페이지 로딩 속도도 대폭 개선되었습니다.

- 이미지 용량: 평균 5MB → 평균 500KB (90% 감소)
- 이미지 로딩 시간: 평균 209ms → 평균 39ms (약 81% 단축)

![image](https://github.com/user-attachments/assets/b513dbc2-c0c8-4658-a92e-bed249bd0c07)
![리사이즈후](https://github.com/user-attachments/assets/4c6dc7de-0a33-4e38-9d83-cfa6f4635122)

<h2 id="성과">
  <span className="text-outline mr-4">#</span>성과
</h2>

짧은 기간 안에 완성도를 높이기 위해 익숙한 기술들을 빠르게 적용하는 동시에, 서비스 기능 요구에 따라 Socket.io와 SSE 같은 새로운 기술도 빠르게 익혀 적용해보는 경험을 쌓을 수 있었습니다.
